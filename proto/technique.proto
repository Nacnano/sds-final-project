syntax = "proto3";

package technique;

service TechniqueService {
  rpc CreateTechnique(CreateTechniqueRequest) returns (TechniqueResponse);
  rpc UpdateTechnique(UpdateTechniqueRequest) returns (TechniqueResponse);
  rpc DeleteTechnique(DeleteTechniqueRequest) returns (TechniqueResponse);
  rpc FindTechniqueById(GetTechniqueRequest) returns (TechniqueResponse);
  rpc ListTechniques(Empty) returns (TechniquesResponse);
}

// Technique message
message Technique {
  string id = 1;           // tech id
  string shrine_id = 2;    // shrine id
  string user_id = 3;      // user id
  string title = 4;        // title of the technique
  string description = 5;  // description of the technique
  repeated string ingredients = 6; // list of ingredients
}

// Request messages
message CreateTechniqueRequest {
  string shrine_id = 1;
  string user_id = 2;
  string title = 3;
  string description = 4;
  repeated string ingredients = 5;
}

message UpdateTechniqueRequest {
  string id = 1;
  string title = 2;
  string description = 3;
  repeated string ingredients = 4;
}

message GetTechniqueRequest {
  string id = 1;
}

message DeleteTechniqueRequest {
  string id = 1;
}

// Response messages
message TechniqueResponse {
  Technique technique = 1;
}

message TechniquesResponse {
  repeated Technique techniques = 1;
}

message Empty {}